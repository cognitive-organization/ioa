apiVersion: ioa.dev/v0.1
kind: Governance
metadata:
  name: default-policy
  owner: "{{orgName}}"
spec:
  domain: product
  accessControl:
    roles:
      - name: admin
        permissions:
          - "read"
          - "write"
          - "deploy"
          - "override"
      - name: operator
        permissions:
          - "read"
          - "write"
      - name: viewer
        permissions:
          - "read"
    defaultRole: viewer
  promptVersioning:
    enabled: true
    repository: "prompts/"
  audit:
    enabled: true
    retention: "365d"
    level: full
  failureModes:
    - scenario: "Agent unresponsive"
      response: "Fallback to manual process"
      escalation: "Notify domain owner within 5 minutes"
    - scenario: "Conflicting agent recommendations"
      response: "Halt automated actions"
      escalation: "Escalate to human decision-maker"
  humanOverride:
    enabled: true
    channels:
      - dashboard
      - cli
      - slack
    maxResponseTime: "15m"
