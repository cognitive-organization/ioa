apiVersion: ioa.dev/v0.2
kind: Governance
metadata:
  name: default-policy
  owner:
    name: "{{orgName}}"
    role: governance-owner
spec:
  domain: product
  accessControl:
    roles:
      - name: admin
        permissions:
          - "read"
          - "write"
          - "deploy"
          - "override"
      - name: operator
        permissions:
          - "read"
          - "write"
      - name: viewer
        permissions:
          - "read"
    defaultRole: viewer
  promptVersioning:
    enabled: true
    repository: "prompts/"
  escalation:
    paths:
      - level: 1
        role: domain-lead
        channel: slack
        timeout: "15m"
      - level: 2
        role: vp-engineering
        channel: pagerduty
        timeout: "30m"
    defaultPath: "level-1"
  compliance:
    standards: []
    requirements:
      - "All agent actions must be auditable"
  failureModes:
    - scenario: "Agent unresponsive"
      response: "Fallback to manual process"
      escalation: "Notify domain owner within 5 minutes"
    - scenario: "Conflicting agent recommendations"
      response: "Halt automated actions"
      escalation: "Escalate to human decision-maker"
  humanOverride:
    enabled: true
    channels:
      - dashboard
      - cli
      - slack
    maxResponseTime: "15m"
